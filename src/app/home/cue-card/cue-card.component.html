<main>
  <div id="top-users">

    <img src="assets/logo.png" height="43" width="43" style="margin-left: 7px" alt="">
    <!--    <mat-icon style="scale: 1.4; margin-right: 7px" color="accent">emoji_events</mat-icon>-->

    <!--    <ng-container *ngFor="let n of topUserIDs; index as i">-->
    <!--      <app-user-mini [userID]="n"></app-user-mini>-->
    <!--    </ng-container>-->
    <!--    <mat-icon>first_page</mat-icon>-->

    <!--    <ng-container *ngIf="!topUserIDs.includes(auth.selfUserID)">-->
    <!--      <span style="padding: 10px"><-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;</span>-->
    <!--      <app-user-mini [userID]="auth.selfUserID"></app-user-mini>-->
    <!--&lt;!&ndash;      <span>You can do it too</span>&ndash;&gt;-->
    <!--    </ng-container>-->

  </div>

  <ng-container *ngIf="auth.isVisitor; else topUsers">
    <button mat-stroked-button color="primary" (click)="userSetUp()"
            style="border-radius: 100px; margin-left: 8px">
      <mat-icon>account_circle</mat-icon>
      Sign Up
    </button>
  </ng-container>

  <button mat-icon-button color="accent" style="margin-left: 2px">
    <mat-icon>search</mat-icon>
  </button>

  <!--  <div>-->
  <!--    <app-user-mini [userID]="auth.selfUserID" style="height: 100%"></app-user-mini>-->
  <!--  </div>-->


  <div style="flex: 1"></div>
  <!--  <ng-container>-->
  <!--    <button mat-stroked-button>-->
  <!--      <mat-icon>rocket_launch</mat-icon>-->
  <!--      <span>Home</span>-->
  <!--    </button>-->
  <!--    <div style="flex: 1"></div>-->
  <!--  </ng-container>-->


  <button mat-icon-button (click)="openNewPostView()" color="primary"
          *ngIf="notificationCount() == 0; else notificationBtn">
    <mat-icon>add</mat-icon>
  </button>

  <!--  <button mat-icon-button color="warn" (click)="openUserBriefView()"-->
  <!--          [ngStyle]="{'background-color': notificationCount()>0 ? 'white': ''}">-->
  <!--    <mat-icon class="nav-icon">-->
  <!--      menu-->
  <!--    </mat-icon>-->
  <!--  </button>-->

  <button id="profile-btn" [matMenuTriggerFor]="menu">
    <div style="width: 34px;clip-path: circle(17px at center);flex-shrink: 0;">
      <app-simple-figure [figureID]=1></app-simple-figure>
    </div>
    <mat-icon style="margin: 0px" color="warn">expand_more</mat-icon>
  </button>
</main>


<ng-template #topUsers>
  <button mat-stroked-button color="warn"
          style="border-radius: 100px; margin-left: 8px">
    <mat-icon>emoji_events</mat-icon>
    Top Users
  </button>
</ng-template>


<ng-template #notificationBtn>
  <button (click)="openUserBriefView()" style="background-color: white; height: 38px; width: 38px; border-radius: 100px; border: none">
    <mat-icon class="nav-icon"  color="warn">
      notifications
    </mat-icon>
  </button>
</ng-template>

<mat-menu #menu="matMenu">
  <button mat-menu-item [routerLink]="['/user/' + this.auth.selfUserID]">
    <mat-icon class="menuIcon">account_circle</mat-icon>
    <span>My Profile</span>
  </button>
  <button mat-menu-item routerLink="/friends">
    <mat-icon class="menuIcon">people</mat-icon>
    <span>Friends</span>
  </button>
  <button mat-menu-item (click)="logout()">
    <mat-icon color="primary" class="menuIcon">logout</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>
