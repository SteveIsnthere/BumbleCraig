<mat-dialog-content style="max-height: 75vh; max-height: 75dvh;height: 75vh; height: 75dvh; width: 80vw; width: 80dvw">
  <main *ngIf="post != null">
    <button mat-mini-fab *ngIf="auth.selfUserID == post.author_id" (click)="deletePost()">
      <mat-icon>delete</mat-icon>
    </button>

    <div class="action-bar" *ngIf="perceptionStatus != 3 && auth.selfUserID != post.author_id"
         style="position: fixed; top: 11vh;top: 11dvh;left: 50%;transform: translate(-50%, -100%); background-color: #939393;
         border-radius: 130px; padding: 5px">
      <button mat-mini-fab color="primary" (click)="likePost()"
              *ngIf="perceptionStatus == 0 || perceptionStatus == 1">
        <mat-icon>thumb_up</mat-icon>
      </button>
      <button mat-mini-fab color="warn" (click)="dislikePost()" *ngIf="perceptionStatus == 0 || perceptionStatus == 2">
        <mat-icon>thumb_down</mat-icon>
      </button>
      <span *ngIf="perceptionStatus==1" style="color: green; margin-right: 4px">Shilled</span>
      <span *ngIf="perceptionStatus==2" style="color: red; margin-right: 4px">Cancelled</span>
    </div>

    <span id="title">{{post.title}}</span>

    <!--    <app-post-perception-bar [popularity]="post.popularity" [rating]="post.rating"-->
    <!--                             style="width: 200px"></app-post-perception-bar>-->

    <app-user [userID]=post.author_id *ngIf="post.author_id != null"></app-user>

    <p *ngFor="let content of post.content">
      <ng-container *ngIf="content.file_share_id != 0; else textMsg">
        <app-file-share [fileShareID]=content.file_share_id class="file-content"></app-file-share>
      </ng-container>
      <ng-template #textMsg>
        <span class="text-content">{{content.content}}</span>
      </ng-template>
    </p>

    <div id="comment-section" (click)="openCommentSection()"
         style="position: fixed; bottom: 20px;left: 50%;transform: translate(-50%, 0);">
      <button mat-flat-button color="primary">
        <!--<span>{{post.number_of_comments}}</span>-->
        <mat-icon style="vertical-align: middle;margin-left: 2px">comment</mat-icon>
        <span>See comments</span>
      </button>
    </div>

    <button mat-mini-fab color="warn" style="position: fixed; bottom: 20px; right: 20px" (click)="writeComment()">
      <mat-icon>rate_review</mat-icon>
    </button>
  </main>
</mat-dialog-content>
