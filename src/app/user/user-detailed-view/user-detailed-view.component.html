<main *ngIf="essentialUserData.figure_id != 0; else loadingBar">
  <div *ngIf="userID == auth.selfUserID && !auth.isVisitor">
    <button mat-fab [routerLink]="['/user-profile-edit']">
      <mat-icon>edit</mat-icon>
    </button>
  </div>

  <div id="figure" [ngClass]="{'clipped':showClippedFigure}" (click)="showClippedFigure = !showClippedFigure">
    <app-simple-figure [figureID]="essentialUserData.figure_id"></app-simple-figure>
  </div>

  <div id="name">
    <span>{{essentialUserData.name}}</span>
  </div>

  <div id="stats">
    <span style="color:#c2175b">#{{userID}}</span>
    <span style="font-size: small; margin-left: 1em; color: wheat;">Degeneracy: {{xp}}</span>
  </div>

  <div id="description">
    <span>{{userDescription}}</span>
  </div>

  <span style="width: 90%"><mat-divider></mat-divider></span>

  <div id="actions" *ngIf="auth.selfUserID != userID">
    <button mat-flat-button color="primary" style="border-radius: 100px"
            *ngIf="!isFriend && !friendRequestSent"
            (click)="sendFriendRequest()">
      <mat-icon>person_add</mat-icon>
      Add
    </button>

    <button mat-flat-button color="warn" style="border-radius: 100px"
            *ngIf="friendRequestSent"
            disabled>
      <mat-icon>hourglass_top</mat-icon>
      Requested
    </button>

    <button mat-flat-button color="warn" style="border-radius: 100px"
            *ngIf="isFriend"
            (click)="removeFriend()">
      <mat-icon>person_remove</mat-icon>
      Remove
    </button>

    <button mat-flat-button color="accent" style="border-radius: 100px"
            (click)="sendDM()">
      <mat-icon>mail</mat-icon>
      DM
    </button>
  </div>

  <div id="posts-section">
    <app-post class="post" [postID]="postID" *ngFor="let postID of postIDs"></app-post>
  </div>

  <ng-container *ngIf="postIDs.length == 0">
    <mat-icon style="color: antiquewhite">sentiment_very_dissatisfied</mat-icon>
    <p style="color: antiquewhite">This user hasn't made any post yet</p>
  </ng-container>
</main>


<ng-template #loadingBar>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>
