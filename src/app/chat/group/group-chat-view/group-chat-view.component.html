<main>

  <div id="group-info" *ngIf="groupEssentialData.figure_id != 0">
    <div style="width: 120px;clip-path: circle(60px at center); cursor: pointer" (click)="editFigure()">
      <app-simple-figure [figureID]=groupEssentialData.figure_id #figure></app-simple-figure>
    </div>
  </div>
  <div id="messages-section" #messagesSection>
    <div id="messages-container">
      <div style="height: 150px"></div>
      <div *ngFor="let message of messages" class="message" [ngClass]="message.sender_id == selfID ? 'self-msg' : ''">
        <div style="width: 40px;clip-path: circle(20px at center)">
          <app-user-mini [userID]=message.sender_id></app-user-mini>
        </div>
        <ng-container *ngIf="message.file_share_id != 0; else textMsg">
          <app-file-share [fileShareID]=message.file_share_id class="file-content"></app-file-share>
        </ng-container>
        <ng-template #textMsg>
          <span class="text-content">{{message.content}}</span>
        </ng-template>
        <div style="flex: 1"></div>
      </div>
      <div style="height: 65px"></div>
    </div>
  </div>


  <div id="action-section">
    <button mat-mini-fab (click)="sendMessage()" style="margin-left: 20px; margin-right: 5px">
      <mat-icon>add</mat-icon>
    </button>
    <mat-form-field appearance="outline" style="transform: translate(0,12%); flex: 1">
      <input matInput [autocomplete]="false">
    </mat-form-field>
    <button mat-mini-fab (click)="sendMessage()" color="warn" style="margin-right: 20px; margin-left: 5px">
      <mat-icon>done</mat-icon>
    </button>
  </div>

</main>
